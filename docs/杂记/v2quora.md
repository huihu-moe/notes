# V2Quora

V2Quora 是一个问答社区项目，实现了一个问答网站的基本功能，如注册登录，发帖，看帖，点赞等。

注册功能：

1. 使用正则表达式校验用户名（邮件地址）和密码的格式；
2. 对于密码，为了降低数据库泄露的损失，不存储密码明文到数据库中，而是对帐号密码进行加盐加密。通过比较加密后的密码进行密码验证；
3. 生成注册激活码，可以使用 Redis 数据库存储生成的激活码，实现激活码的有效时间控制；
4. 维护用户登录状态，服务器验证用户名和密码后，将用户信息存储到 Redis 中，Redis key 作为 Session ID 存入响应报文的 Cookie 字段，客户端将 Cookie 值存入浏览器。客户端之后对同一个服务器进行请求时会包含该 Cookie 值，服务器收到之后提取出 Session ID，从 Redis 中取出用户信息，继续之前的业务操作。在对安全性要求极高的场景下，除了使用 Session 管理用户状态之外，还需要对用户进行重新验证，比如重新输入密码，或者使用短信验证码等方式。
5. 异步发送激活邮件，使用 Spring 封装的线程池 Task Exector，创建线程发送邮件。

问题模块：

1. 使用 Redis 实现问题的点赞，Redis 缓存对问题点赞、浏览的用户 ID，如用户对问题点赞，则Redis会存储问题 ID 和用户 ID。
2. 问题分页，简单的使用 SQL offset 和 limit 实现，可以对其进行改进。如对字段建立索引，使用子查询（子查询返回结果的 ID，减少返回的结果数，提高分页效率）

其他模块或是简单 CRUD，或是使用第三方 JDK 实现（如上传图片到云端），不再赘述。